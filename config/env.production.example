# ============================================
# Production Environment Configuration
# ============================================
# Copy this file to .env and fill in your production values
# NEVER commit .env to version control

# ============================================
# Server Configuration
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# Full connection string (recommended)
DATABASE_URL=postgresql://username:password@localhost:5432/leads_and_quotes

# OR individual connection parameters
DB_HOST=localhost
DB_PORT=5432
DB_NAME=leads_and_quotes
DB_USER=your_db_user
DB_PASSWORD=your_secure_db_password

# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000

# ============================================
# Anthropic API (REQUIRED)
# ============================================
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your-anthropic-api-key-here

# ============================================
# Twilio SMS (Optional - for hot lead alerts)
# ============================================
# Get credentials from: https://console.twilio.com/
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+15555551234

# ============================================
# SendGrid Email (Optional - for notifications)
# ============================================
# Get API key from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=notifications@yourdomain.com
SENDGRID_FROM_NAME=Your Business Name

# ============================================
# AWS SES Email (Alternative to SendGrid)
# ============================================
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
# AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
# AWS_SES_FROM_EMAIL=notifications@yourdomain.com

# ============================================
# Redis Cache (Optional - for scaling)
# ============================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your_redis_password

# ============================================
# Session Configuration
# ============================================
SESSION_SECRET=your-super-secret-session-key-change-this-in-production
SESSION_MAX_AGE=86400000

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Feature Flags
# ============================================
ENABLE_HOT_LEAD_ALERTS=true
ENABLE_WEEKLY_DIGEST=true
ENABLE_GHOST_BUSTER=true
ENABLE_HOMEOWNER_CONFIRMATION=true

# ============================================
# Monitoring & Logging
# ============================================
LOG_LEVEL=info
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ============================================
# Webhook URLs (Optional)
# ============================================
# WEBHOOK_URL=https://yourdomain.com/webhooks/lead-captured
# WEBHOOK_SECRET=your_webhook_signing_secret

# ============================================
# Security
# ============================================
# JWT secret for API authentication
JWT_SECRET=your-jwt-secret-key-change-this-in-production

# Admin secret for platform-wide stats
ADMIN_SECRET=your-super-secret-admin-key-change-this

# API key rotation
API_KEY_ROTATION_DAYS=90

# ============================================
# Cron Schedules
# ============================================
# Ghost Buster: Run every 5 minutes
CRON_GHOST_BUSTER=*/5 * * * *

# Weekly Digest: Run every Monday at 8 AM
CRON_WEEKLY_DIGEST=0 8 * * 1

# ============================================
# Multi-Tenant Configuration
# ============================================
# Default timezone for new customers
DEFAULT_TIMEZONE=America/Chicago

# Office hours (24-hour format)
OFFICE_HOURS_START=8
OFFICE_HOURS_END=20

# ============================================
# Performance Tuning
# ============================================
# Max concurrent API calls to Anthropic
MAX_CONCURRENT_API_CALLS=5

# Request timeout (milliseconds)
REQUEST_TIMEOUT=30000

# ============================================
# Health Check Configuration
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# ============================================
# Backup Configuration
# ============================================
# S3 bucket for database backups
# AWS_S3_BACKUP_BUCKET=leads-quotes-backups
# BACKUP_SCHEDULE=0 2 * * *
